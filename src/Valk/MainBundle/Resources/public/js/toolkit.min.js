/**
 * Battle.net Front end Toolkit
 *
 * @copyright       ©2012 Blizzard Entertainment, Inc. All rights reserved.
 *
 * Twitter Bootstrap
 *
 * @see             http://twitter.github.com/bootstrap/
 * @copyright       ©2011 Twitter, Inc. All rights reserved.
 * @license         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Twitter typeahead.js
 *
 * @see             https://github.com/twitter/typeahead.js
 * @copyright       ©2013 Twitter, Inc. All rights reserved.
 * @license         http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2013 Twitter, Inc
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
'use strict';
if (!Object.create) {
    Object.create = function (b) {
        if (arguments.length > 1) {
            throw new Error("Object.create implementation only accepts the first parameter.");
        }
        function a() {
        }

        a.prototype = b;
        return new a();
    };
}
if (!Object.getPrototypeOf) {
    if (typeof"test".__proto__ === "object") {
        Object.getPrototypeOf = function (a) {
            return a.__proto__;
        };
    } else {
        Object.getPrototypeOf = function (a) {
            return a.constructor.prototype;
        };
    }
}
if (!String.fromCodePoint) {
    /*!
     * ES6 Unicode Shims 0.1
     * (c) 2012 Steven Levithan <http://slevithan.com/>
     * MIT License
     */
    String.fromCodePoint = function fromCodePoint() {
        var d = [], a, e, b, c;
        for (c = 0; c < arguments.length; ++c) {
            a = arguments[c];
            e = a - 65536;
            b = a > 65535 ? [55296 + (e >> 10), 56320 + (e & 1023)] : [a];
            d.push(String.fromCharCode.apply(null, b));
        }
        return d.join("");
    };
}
if (!String.prototype.trim) {
    String.prototype.trim = function () {
        return $.trim(this);
    };
}
if (!String.prototype.capitalize) {
    String.prototype.capitalize = function () {
        return this.charAt(0).toUpperCase() + this.slice(1);
    };
}
if (typeof jQuery.expr.createPseudo === "function") {
    jQuery.expr[":"].caseInsensitiveContains = jQuery.expr.createPseudo(function (a) {
        return function (b) {
            return jQuery(b).text().toLocaleLowerCase().indexOf(a.toLocaleLowerCase()) >= 0;
        };
    });
    jQuery.expr[":"].caseInsensitiveStartsWith = jQuery.expr.createPseudo(function (a) {
        return function (b) {
            return jQuery(b).text().toLocaleLowerCase().indexOf(a.toLocaleLowerCase()) === 0;
        };
    });
} else {
    jQuery.expr[":"].caseInsensitiveContains = function (c, b, a) {
        return jQuery(c).text().toLocaleLowerCase().indexOf(a[3].toLocaleLowerCase()) >= 0;
    };
    jQuery.expr[":"].caseInsensitiveStartsWith = function (c, b, a) {
        return jQuery(c).text().toLocaleLowerCase().indexOf(a[3].toLocaleLowerCase()) === 0;
    };
}
$(function () {
    $.support.transition = (function () {
        var a = (function () {
            var d = document.createElement("toolkit"), c = {WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend"}, b;
            for (b in c) {
                if (d.style[b] !== undefined) {
                    return c[b];
                }
            }
            return"";
        }());
        return a && {end: a};
    })();
});
var Affix = function (b, a) {
    this.options = $.extend({}, $.fn.affix.defaults, a);
    this.$window = $(window).on("scroll.affix.data-api", $.proxy(this.checkPosition, this)).on("click.affix.data-api", $.proxy(function () {
        setTimeout($.proxy(this.checkPosition, this), 1);
    }, this));
    this.$element = $(b);
    this.checkPosition();
};
Affix.prototype.checkPosition = function () {
    if (!this.$element.is(":visible")) {
        return;
    }
    var e = $(document).height(), g = this.$window.scrollTop(), a = this.$element.offset(), h = this.options.offset, c = h.bottom, d = h.top, f = "affix affix-top affix-bottom", b;
    if (typeof h !== "object") {
        c = d = h;
    }
    if (typeof d === "function") {
        d = h.top();
    }
    if (typeof c === "function") {
        c = h.bottom();
    }
    if (this.unpin !== null && (g + this.unpin <= a.top)) {
        b = false;
    } else {
        if (!isNaN(c) && (a.top + this.$element.height() >= e - c)) {
            b = "bottom";
        } else {
            if (!isNaN(d) && g <= d) {
                b = "top";
            } else {
                b = false;
            }
        }
    }
    if (this.affixed === b) {
        return;
    }
    this.affixed = b;
    this.unpin = b === "bottom" ? (a.top - g) : null;
    this.$element.removeClass(f).addClass("affix" + (b ? "-" + b : ""));
};
$.fn.affix = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("affix"), b = typeof a === "object" && a;
        if (!c) {
            d.data("affix", (c = new Affix(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        }
    });
};
$.fn.affix.Constructor = Affix;
$.fn.affix.defaults = {offset: 0};
$(window).on("load", function () {
    $('[data-spy="affix"]').each(function () {
        var b = $(this), a = b.data();
        a.offset = a.offset || {};
        a.offsetBottom && (a.offset.bottom = a.offsetBottom);
        a.offsetTop && (a.offset.top = a.offsetTop);
        b.affix(a);
    });
});
var dismiss = '[data-dismiss="alert"]', Alert = function (a) {
    $(a).on("click", dismiss, this.close);
};
Alert.prototype.close = function (f) {
    var d = $(this), b = d.attr("data-target"), c;
    if (!b) {
        b = d.attr("href");
        b = b && b.replace(/.*(?=#[^\s]*$)/, "");
    }
    c = $(b);
    f && f.preventDefault();
    c.length || (c = d.hasClass("alert") ? d : d.parent());
    c.trigger(f = $.Event("close"));
    if (f.isDefaultPrevented()) {
        return;
    }
    c.removeClass("in");
    function a() {
        c.trigger("closed").remove();
    }

    $.support.transition && c.hasClass("fade") ? c.on($.support.transition.end, a) : a();
};
$.fn.alert = function (a) {
    return this.each(function () {
        var c = $(this), b = c.data("alert");
        if (!b) {
            c.data("alert", (b = new Alert(this)));
        }
        if (typeof a === "string") {
            b[a].call(c);
        }
    });
};
$.fn.alert.Constructor = Alert;
$(document).on("click.alert.data-api", dismiss, Alert.prototype.close);
var Button = function (b, a) {
    this.$element = $(b);
    this.options = $.extend({}, $.fn.button.defaults, a);
};
Button.prototype.setState = function (e) {
    var g = "disabled", a = this.$element, c = a.data(), f = a.is("input") ? "val" : "html", b;
    e = e + "Text";
    b = c[e] || this.options[e];
    if (b === "" && e === "loadingText") {
        a.addClass("loading");
    } else {
        a.removeClass("loading");
    }
    c.resetText || a.data("resetText", a[f]());
    if (b !== "") {
        a[f](b);
    }
    setTimeout(function () {
        e === "loadingText" ? a.addClass(g).attr(g, g).prop(g, true) : a.removeClass(g).removeAttr(g).prop(g, false);
    }, 0);
};
Button.prototype.toggle = function () {
    var a = this.$element.closest('[data-toggle="buttons-radio"]');
    a && a.find(".active").removeClass("active");
    this.$element.toggleClass("active");
};
$.fn.button = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("button"), b = typeof a === "object" && a;
        if (!c) {
            d.data("button", (c = new Button(this, b)));
        }
        if (a === "toggle") {
            c.toggle();
        } else {
            if (a) {
                c.setState(a);
            }
        }
    });
};
$.fn.button.defaults = {loadingText: ""};
$.fn.button.Constructor = Button;
$(document).on("click.button.data-api", "[data-toggle^=button]", function (b) {
    var a = $(b.target);
    if (!a.hasClass("btn")) {
        a = a.closest(".btn");
    }
    a.button("toggle");
});
var Carousel = function (b, a) {
    this.$element = $(b);
    this.options = a;
    this.options.pause === "hover" && this.$element.on("mouseenter", $.proxy(this.pause, this)).on("mouseleave", $.proxy(this.cycle, this));
};
Carousel.prototype = {cycle: function (a) {
    if (!a) {
        this.paused = false;
    }
    this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval));
    return this;
}, to: function (e) {
    var a = this.$element.find(".item.active"), b = a.parent().children(), c = b.index(a), d = this;
    if (e > (b.length - 1) || e < 0) {
        return;
    }
    if (this.sliding) {
        return this.$element.one("slid", function () {
            d.to(e);
        });
    }
    if (c === e) {
        return this.pause().cycle();
    }
    return this.slide(e > c ? "next" : "prev", $(b[e]));
}, pause: function (a) {
    if (!a) {
        this.paused = true;
    }
    if (this.$element.find(".next, .prev").length && $.support.transition.end) {
        this.$element.trigger($.support.transition.end);
        this.cycle();
    }
    clearInterval(this.interval);
    this.interval = null;
    return this;
}, next: function () {
    if (this.sliding) {
        return;
    }
    return this.slide("next");
}, prev: function () {
    if (this.sliding) {
        return;
    }
    return this.slide("prev");
}, slide: function (h, b) {
    var j = this.$element.find(".item.active"), a = b || j[h](), g = this.interval, i = h === "next" ? "left" : "right", c = h === "next" ? "first" : "last", d = this, f;
    this.sliding = true;
    g && this.pause();
    a = a.length ? a : this.$element.find(".item")[c]();
    f = $.Event("slide", {relatedTarget: a[0], direction: i});
    if (a.hasClass("active")) {
        return;
    }
    if ($.support.transition && this.$element.hasClass("slide")) {
        this.$element.trigger(f);
        if (f.isDefaultPrevented()) {
            return;
        }
        a.addClass(h);
        a[0].offsetWidth;
        j.addClass(i);
        a.addClass(i);
        this.$element.one($.support.transition.end, function () {
            a.removeClass([h, i].join(" ")).addClass("active");
            j.removeClass(["active", i].join(" "));
            d.sliding = false;
            setTimeout(function () {
                d.$element.trigger("slid");
            }, 0);
        });
    } else {
        this.$element.trigger(f);
        if (f.isDefaultPrevented()) {
            return;
        }
        j.removeClass("active");
        a.addClass("active");
        this.sliding = false;
        this.$element.trigger("slid");
    }
    g && this.cycle();
    return this;
}};
$.fn.carousel = function (a) {
    return this.each(function () {
        var e = $(this), d = e.data("carousel"), b = $.extend({}, $.fn.carousel.defaults, typeof a === "object" && a), c = typeof a === "string" ? a : b.slide;
        if (!d) {
            e.data("carousel", (d = new Carousel(this, b)));
        }
        if (typeof a === "number") {
            d.to(a);
        } else {
            if (c) {
                d[c]();
            } else {
                if (b.interval) {
                    d.cycle();
                }
            }
        }
    });
};
$.fn.carousel.defaults = {interval: 5000, pause: "hover"};
$.fn.carousel.Constructor = Carousel;
$(document).on("click.carousel.data-api", "[data-slide]", function (f) {
    var d = $(this), b, a = $(d.attr("data-target") || (b = d.attr("href")) && b.replace(/.*(?=#[^\s]+$)/, "")), c = $.extend({}, a.data(), d.data());
    a.carousel(c);
    f.preventDefault();
});
var Charmax = function (b, a) {
    this.init(b, a);
};
Charmax.prototype = {constructor: Charmax, init: function (b, a) {
    this.element = b;
    this.$element = $(b);
    this.options = this.getOptions(a);
    this.maxlength = parseInt(this.$element.attr("maxlength"), 10);
    this.$element.on("input.charmax", $.proxy(this.countCharsInput, this));
    this.$element.on("keydown.charmax", $.proxy(this.countCharsKeydown, this));
}, getOptions: function (a) {
    a = $.extend({}, $.fn.charmax.defaults, a, this.$element.data());
    return a;
}, getCount: function getCount() {
    return this.element.value.length;
}, countCharsInput: function countCharsInput() {
    this.$element.off(".charmax");
    this.$element.on("input.charmax", $.proxy(this.countChars, this));
    this.countChars.call(this);
}, countCharsKeydown: function countCharsKeydown() {
    this.countChars.call(this);
}, countChars: function countChars() {
    var a = this.getCount() - this.maxlength;
    this.$element.attr("data-charmax-counter", (a + this.maxlength) + "/" + this.maxlength);
    if (a < 0) {
        this.$element.trigger("underMaxlength", [a]);
    } else {
        if (a > 0) {
            this.$element.trigger("overMaxlength", [a]);
        } else {
            this.$element.trigger("atMaxlength");
        }
    }
    this.$element.trigger("charcounter", [a]);
}};
$.fn.charmax = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("charmax"), b = typeof a === "object" && a;
        if (d.attr("maxlength") !== "undefined") {
            if (!c) {
                d.data("charmax", (c = new Charmax(this, b)));
            }
            if (typeof a === "string") {
                c[a]();
            }
        }
    });
};
$.fn.charmax.Constructor = Charmax;
$.fn.charmax.defaults = {};
$(window).on("load", function () {
    $("textarea[maxlength], input[maxlength]").not("[data-charmax=false]").each(function () {
        $(this).charmax();
    });
});
var Checkbox = function (a) {
    this.$element = $(a);
};
Checkbox.prototype.setState = function (b) {
    var a = this.$element;
    if (a.attr(b) === b) {
        a.removeAttr(b);
        a.parent(".input-checkbox").removeClass(b);
    } else {
        a.attr(b, b);
        a.parent(".input-checkbox").addClass(b);
    }
};
Checkbox.prototype.toggle = function () {
    if (this.$element.children().prop("checked")) {
        this.$element.addClass("checked");
    } else {
        this.$element.removeClass("checked");
    }
};
Checkbox.prototype.focus = function () {
    this.$element.addClass("focus");
};
Checkbox.prototype.blur = function () {
    this.$element.removeClass("focus");
};
$.fn.checkbox = function (a) {
    return this.each(function () {
        var c = $(this), b;
        c.data("checkbox", (b = new Checkbox(this)));
        if (a === "toggle") {
            b.toggle();
        } else {
            if (a === "focus") {
                b.focus();
            } else {
                if (a === "blur") {
                    b.blur();
                } else {
                    if (a) {
                        b.setState(a);
                    }
                }
            }
        }
    });
};
$.fn.checkbox.Constructor = Checkbox;
$(function () {
    $("body").on("change.checkbox.data-api", "input[type=checkbox]",function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-checkbox")) {
            b = b.closest(".input-checkbox");
        }
        b.checkbox("toggle");
    }).on("focus.checkbox.data-api", "input[type=checkbox]",function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-checkbox")) {
            b = b.closest(".input-checkbox");
        }
        b.checkbox("focus");
    }).on("blur.checkbox.data-api", "input[type=checkbox]", function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-checkbox")) {
            b = b.closest(".input-checkbox");
        }
        b.checkbox("blur");
    });
});
$(window).on("load", function () {
    $("input[type=checkbox]:not(.css-input)").each(function () {
        var a = $(this);
        a.wrap(function () {
            var b = document.createElement("span");
            b.className = "input-checkbox" + (this.checked ? " checked" : "") + (this.disabled ? " disabled" : "");
            return b;
        });
    });
});
var Collapse = function (b, a) {
    this.$element = $(b);
    this.options = $.extend({}, $.fn.collapse.defaults, a);
    if (this.options.parent) {
        this.$parent = $(this.options.parent);
    }
    this.options.toggle && this.toggle();
};
Collapse.prototype = {constructor: Collapse, dimension: function () {
    var a = this.$element.hasClass("width");
    return a ? "width" : "height";
}, show: function () {
    var d, a, c, b;
    if (this.transitioning) {
        return;
    }
    d = this.dimension();
    a = $.camelCase(["scroll", d].join("-"));
    c = this.$parent && this.$parent.find("> .accordion-group > .in");
    if (c && c.length) {
        b = c.data("collapse");
        if (b && b.transitioning) {
            return;
        }
        c.collapse("hide");
        b || c.data("collapse", null);
    }
    this.$element[d](0);
    this.transition("addClass", $.Event("show"), "shown");
    $.support.transition && this.$element[d](this.$element[0][a]);
}, hide: function () {
    var a;
    if (this.transitioning) {
        return;
    }
    a = this.dimension();
    this.reset(this.$element[a]());
    this.transition("removeClass", $.Event("hide"), "hidden");
    this.$element[a](0);
}, reset: function (a) {
    var b = this.dimension();
    this.$element.removeClass("collapse")[b](a || "auto")[0].offsetWidth;
    this.$element[a !== null ? "addClass" : "removeClass"]("collapse");
    return this;
}, transition: function (e, b, c) {
    var d = this, a = function () {
        if (b.type === "show") {
            d.reset();
        }
        d.transitioning = 0;
        d.$element.trigger(c);
    };
    this.$element.trigger(b);
    if (b.isDefaultPrevented()) {
        return;
    }
    this.transitioning = 1;
    this.$element[e]("in");
    $.support.transition && this.$element.hasClass("collapse") ? this.$element.one($.support.transition.end, a) : a();
}, toggle: function () {
    this[this.$element.hasClass("in") ? "hide" : "show"]();
}};
$.fn.collapse = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("collapse"), b = typeof a === "object" && a;
        if (!c) {
            d.data("collapse", (c = new Collapse(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        }
    });
};
$.fn.collapse.defaults = {toggle: true};
$.fn.collapse.Constructor = Collapse;
$(document).on("click.collapse.data-api", "[data-toggle=collapse]", function (f) {
    var d = $(this), a, c = d.attr("data-target") || f.preventDefault() || (a = d.attr("href")) && a.replace(/.*(?=#[^\s]+$)/, ""), b = $(c).data("collapse") ? "toggle" : d.data();
    d[$(c).hasClass("in") ? "addClass" : "removeClass"]("collapsed");
    $(c).collapse(b);
});
var toggle = "[data-toggle=dropdown]", Dropdown = function (b) {
    var a = $(b).on("click.dropdown.data-api", this.toggle);
    $("html").on("click.dropdown.data-api", function () {
        a.parent().removeClass("open");
    });
};
Dropdown.prototype = {constructor: Dropdown, toggle: function () {
    var c = $(this), b, a;
    if (c.is(".disabled, :disabled")) {
        return;
    }
    b = getParent(c);
    a = b.hasClass("open");
    clearMenus();
    if (!a) {
        b.toggleClass("open");
    }
    c.focus();
    b.trigger("toggle.dropdown.data-api", [!a]);
    return false;
}, keydown: function (f) {
    var d, g, c, b, a;
    if (!/(38|40|27)/.test(f.keyCode)) {
        return;
    }
    d = $(this);
    f.preventDefault();
    f.stopPropagation();
    if (d.is(".disabled, :disabled")) {
        return;
    }
    c = getParent(d);
    b = c.hasClass("open");
    if (!b || (b && f.keyCode === 27)) {
        return d.click();
    }
    g = $("[role=menu] li:not(.divider):visible a", c);
    if (!g.length) {
        return;
    }
    a = g.index(g.filter(":focus"));
    if (f.keyCode === 38 && a > 0) {
        a--;
    }
    if (f.keyCode === 40 && a < g.length - 1) {
        a++;
    }
    if (!~a) {
        a = 0;
    }
    g.eq(a).focus();
}};
function clearMenus() {
    $(toggle).each(function () {
        getParent($(this)).removeClass("open");
    });
}
function getParent(c) {
    var a = c.attr("data-target"), b;
    if (!a) {
        a = c.attr("href");
        a = a && /#/.test(a) && a.replace(/.*(?=#[^\s]*$)/, "");
    }
    b = $(a);
    b.length || (b = c.parent());
    return b;
}
$.fn.dropdown = function (a) {
    return this.each(function () {
        var c = $(this), b = c.data("dropdown");
        if (!b) {
            c.data("dropdown", (b = new Dropdown(this)));
        }
        if (typeof a === "string") {
            b[a].call(c);
        }
    });
};
$.fn.dropdown.Constructor = Dropdown;
$(document).on("click.dropdown.data-api touchstart.dropdown.data-api", clearMenus).on("click.dropdown touchstart.dropdown.data-api", ".dropdown form",function (a) {
    a.stopPropagation();
}).on("touchstart.dropdown.data-api", ".dropdown-menu",function (a) {
    a.stopPropagation();
}).on("click.dropdown.data-api touchstart.dropdown.data-api", toggle, Dropdown.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api", toggle + ", [role=menu]", Dropdown.prototype.keydown);
var Modal = function (b, a) {
    this.options = a;
    this.$element = $(b).delegate('[data-dismiss="modal"]', "click.dismiss.modal", $.proxy(this.hide, this));
    this.options.remote && this.$element.find(".modal-body").load(this.options.remote);
};
Modal.prototype = {constructor: Modal, toggle: function () {
    return this[!this.isShown ? "show" : "hide"]();
}, show: function () {
    var a = this, c = $.Event("show"), b = a.$element.find(".modal-scrollable");
    this.$element.trigger(c);
    if (this.isShown || c.isDefaultPrevented()) {
        return;
    }
    this.isShown = true;
    this.escape();
    this.backdrop(function () {
        var d = $.support.transition && a.$element.hasClass("fade");
        if (!a.$element.parent().length) {
            a.$element.appendTo(document.body);
        }
        a.$element.show();
        if (b.length && !b.hasClass("scrollbar-content")) {
            b.tinyscrollbar();
        }
        if (d) {
            a.$element[0].offsetWidth;
        }
        a.$element.addClass("in").attr("aria-hidden", false);
        a.enforceFocus();
        d ? a.$element.one($.support.transition.end, function () {
            a.$element.focus().trigger("shown");
        }) : a.$element.focus().trigger("shown");
    });
}, hide: function (b) {
    b && b.preventDefault();
    var a = this;
    b = $.Event("hide");
    this.$element.trigger(b);
    if (!this.isShown || b.isDefaultPrevented()) {
        return;
    }
    this.isShown = false;
    this.escape();
    $(document).off("focusin.modal");
    this.$element.removeClass("in").attr("aria-hidden", true);
    $.support.transition && this.$element.hasClass("fade") ? this.hideWithTransition() : this.hideModal();
}, enforceFocus: function () {
    var a = this;
    $(document).on("focusin.modal", function (b) {
        if (a.$element[0] !== b.target && !a.$element.has(b.target).length) {
            a.$element.focus();
        }
    });
}, escape: function () {
    var a = this;
    if (this.isShown && this.options.keyboard) {
        $("body").on("keyup.dismiss.modal", function (b) {
            b.which === 27 && a.hide();
        });
    } else {
        if (!this.isShown) {
            $("body").off("keyup.dismiss.modal");
        }
    }
}, hideWithTransition: function () {
    var a = this, b = setTimeout(function () {
        a.$element.off($.support.transition.end);
        a.hideModal();
    }, 500);
    this.$element.one($.support.transition.end, function () {
        clearTimeout(b);
        a.hideModal();
    });
}, hideModal: function (a) {
    this.$element.hide().trigger("hidden");
    this.backdrop();
}, removeBackdrop: function () {
    this.$backdrop.remove();
    this.$backdrop = null;
}, backdrop: function (d) {
    var c = this, b = this.$element.hasClass("fade") ? "fade" : "";
    if (this.isShown && this.options.backdrop) {
        var a = $.support.transition && b;
        this.$backdrop = $('<div class="modal-backdrop ' + b + '" />').appendTo(document.body);
        this.$backdrop.click(this.options.backdrop == "static" ? $.proxy(this.$element[0].focus, this.$element[0]) : $.proxy(this.hide, this));
        if (a) {
            this.$backdrop[0].offsetWidth;
        }
        this.$backdrop.addClass("in");
        a ? this.$backdrop.one($.support.transition.end, d) : d();
    } else {
        if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            $.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one($.support.transition.end, $.proxy(this.removeBackdrop, this)) : this.removeBackdrop();
        } else {
            if (d) {
                d();
            }
        }
    }
}};
$.fn.modal = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("modal"), b = $.extend({}, $.fn.modal.defaults, d.data(), typeof a === "object" && a);
        if (!c) {
            d.data("modal", (c = new Modal(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        } else {
            if (b.show) {
                c.show();
            }
        }
    });
};
$.fn.modal.defaults = {backdrop: true, keyboard: true, show: true};
$.fn.modal.Constructor = Modal;
$(document).on("click.modal.data-api", '[data-toggle="modal"]', function (f) {
    var d = $(this), b = d.attr("href"), a = $(d.attr("data-target") || (b && b.replace(/.*(?=#[^\s]+$)/, ""))), c = a.data("modal") ? "toggle" : $.extend({remote: !/#/.test(b) && b}, a.data(), d.data());
    f.preventDefault();
    a.modal(c).one("hide", function () {
        d.focus();
    });
});
var Radio = function (a) {
    this.$element = $(a);
};
Radio.prototype.setState = function (b) {
    var a = this.$element;
    if (a.attr(b) === b) {
        a.removeAttr(b);
        a.parent(".input-radio").removeClass(b);
    } else {
        a.attr(b, b);
        a.parent(".input-radio").addClass(b);
    }
};
Radio.prototype.toggle = function () {
    var c = $('input[type=radio][name="' + this.$element.children().attr("name") + '"]'), a = c.parent(".input-radio"), b = c.length - 1, d;
    if (b >= 0) {
        do {
            d = $(a[b]);
            if (c[b].checked) {
                d.addClass("checked");
            } else {
                d.removeClass("checked");
            }
        } while (b--);
    }
};
Radio.prototype.focus = function () {
    this.$element.addClass("focus");
};
Radio.prototype.blur = function () {
    this.$element.removeClass("focus");
};
$.fn.radio = function (a) {
    return this.each(function () {
        var c = $(this), b;
        c.data("radio", (b = new Radio(this)));
        if (a === "toggle") {
            b.toggle();
        } else {
            if (a === "focus") {
                b.focus();
            } else {
                if (a === "blur") {
                    b.blur();
                } else {
                    if (a) {
                        b.setState(a);
                    }
                }
            }
        }
    });
};
$.fn.radio.Constructor = Radio;
$(function () {
    $("body").on("change.radio.data-api", "input[type=radio]",function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-radio")) {
            b = b.closest(".input-radio");
        }
        b.radio("toggle");
    }).on("focus.radio.data-api", "input[type=radio]",function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-radio")) {
            b = b.closest(".input-radio");
        }
        b.radio("focus");
    }).on("blur.radio.data-api", "input[type=radio]", function (a) {
        var b = $(a.target);
        if (!b.hasClass("input-radio")) {
            b = b.closest(".input-radio");
        }
        b.radio("blur");
    });
});
$(window).on("load", function () {
    $("input[type=radio]").each(function () {
        var a = $(this);
        a.wrap(function () {
            var b = document.createElement("span");
            b.className = "input-radio" + (this.checked ? " checked" : "") + (this.disabled ? " disabled" : "");
            return b;
        });
    });
});
var Select = {config: {}, query: "", select: null, selectBox: null, optionList: null, create: function create() {
    var a = Object.create(this);
    a._construct.apply(a, arguments);
    return a;
}, _construct: function _construct(b, a) {
    b = typeof b === "undefined" ? "#select" : b;
    this.select = $(b);
    if (!this.select.length) {
        return;
    }
    a = typeof a === "undefined" ? {} : a;
    this.config = $.extend({}, a);
    this.setup();
}, _super: function _super(b, a, c) {
    if (typeof a !== "string") {
        c = a;
        a = "_construct";
    }
    return Object.getPrototypeOf(b)[a].apply(this, c);
}, setup: function setup() {
    this.selectBox = this._buildSelect(this.select[0]);
    this.optionList = this._buildOptionList(this.select.children());
    this.selectBox.append(this.optionList);
    this.select.wrap(this.selectBox);
}, _buildSelect: function buildSelect(c) {
    var g = document, j = g.createElement("div"), b = g.createElement("span"), d = g.createElement("span"), e = g.createElement("i"), f = g.createElement("span"), h = g.createElement("span"), a = (typeof c.id === "string" ? c.id : "select-box-" + Math.floor(Math.random() * 11000000000) + 1), i = $(c).find("option").filter(":selected")[0];
    b.className = "original";
    j.tabIndex = c.tabIndex || 0;
    j.className = "select-box" + (typeof c.className === "string" ? " " + c.className : "") + (c.disabled ? " disabled" : "");
    j.id = "select-box-" + a;
    j.setAttribute("data-select", "select");
    j.setAttribute("data-original-id", a);
    j.setAttribute("data-select-id", "select-box-" + a);
    d.className = "current" + (i.getAttribute("data-placeholder") ? " placeholder" : "");
    e.className = i.getAttribute("data-icon") || "";
    f.className = "text";
    f.appendChild(g.createTextNode(i.text));
    h.className = "arrow";
    d.appendChild(e);
    d.appendChild(f);
    j.appendChild(b);
    j.appendChild(d);
    j.appendChild(h);
    c.style.display = "none";
    c.setAttribute("data-original-id", a);
    c.setAttribute("data-select-id", "select-box-" + a);
    return $(j);
}, _buildOptionList: function _buildOptionList(b) {
    var a = document.createElement("div");
    a.className = "options";
    this._buildOptions(b, a);
    return a;
}, _buildOptions: function _buildOptions(d, b) {
    var c, a, e;
    for (c = 0, a = d.length; c < a; c++) {
        e = d[c];
        if (e.tagName.toLowerCase() === "optgroup") {
            b.appendChild(this._buildOptgroup(e));
        } else {
            if (e.tagName.toLowerCase() === "option") {
                b.appendChild(this._buildOption(e));
            }
        }
    }
    return b;
}, _buildOptgroup: function _buildOptgroup(c) {
    var f = document, b = f.createElement("div"), e = f.createElement("div"), a = f.createElement("i"), d = f.createElement("span");
    b.className = "option-group";
    if (typeof c.label !== "undefined") {
        e.className = "option-group-label";
        a.className = c.getAttribute("data-icon") || "";
        d.className = "text";
        d.appendChild(f.createTextNode(c.label));
        if (a.className !== "") {
            e.appendChild(a);
        }
        e.appendChild(d);
        b.appendChild(e);
    }
    this._buildOptions(c.children, b);
    return b;
}, _buildOption: function _buildOption(a) {
    var d = document, b = d.createElement("div"), c = d.createElement("i"), e = d.createElement("span");
    b.className = "option" + (a.selected ? " selected" : "") + (a.getAttribute("data-placeholder") ? " placeholder" : "");
    b.setAttribute("data-value", a.value || "");
    c.className = a.getAttribute("data-icon") || "";
    e.className = "text";
    e.appendChild(d.createTextNode(a.text));
    if (c.className !== "") {
        b.appendChild(c);
    }
    b.appendChild(e);
    return b;
}};
var SelectEventHandler = {container: null, body: null, searchTerm: "", repeatCount: 1, timer: null, ticks: 0, maxTicks: 300, pagerSize: 20, registerEvents: function registerEvents(a) {
    a = a || document;
    this.container = $(a);
    if (!this.container.length) {
        return;
    }
    this.body = $("body");
    this._clearTimer();
    this.container.on("click.select.data-api", "[data-select]", $.proxy(this._processClickSelect, this));
    this.container.on("keydown.select.data-api", "[data-select]", $.proxy(this._processKeydownSelect, this));
    this.container.on("keypress.select.data-api", "[data-select]", $.proxy(this._processKeypressSelect, this));
    this.container.on("blur.select.data-api", "[data-select]", $.proxy(this._processBlurSelect, this));
    this.container.on("click.select.data-api", "[data-select] div.option", $.proxy(this._processClickOption, this));
    this.container.on("click", "select option", $.proxy(this._processClickOption, this));
    this.container.on("disable.select.data-api", "[data-select]", $.proxy(this._processDisableSelect, this));
    this.container.on("enable.select.data-api", "[data-select]", $.proxy(this._processEnableSelect, this));
    this.container.on("disable", "select", $.proxy(this._processDisableSelect, this));
    this.container.on("enable", "select", $.proxy(this._processEnableSelect, this));
}, _incrementTimer: function _incrementTimer() {
    if (this.ticks < this.maxTicks) {
        this.ticks = this.ticks + 1;
    } else {
        this._clearTimer();
    }
}, _clearTimer: function _clearTimer() {
    clearInterval(this.timer);
    this.timer = null;
    this.ticks = 0;
    this.repeatCount = 1;
    this.searchTerm = "";
}, _processClickSelect: function _processClickSelect(f) {
    var d = f.currentTarget, b = d.getAttribute("data-original-id"), c = d.getAttribute("data-select-id"), g = $("#" + c), a = $("#" + b);
    if (g.hasClass("disabled") && a.prop("disabled")) {
        return false;
    } else {
        if (g.hasClass("expanded")) {
            if (["scrollbar", "track", "thumb", "end"].indexOf(f.target.className) < 0) {
                this.hideOptions(g);
            }
        } else {
            this.hideOptions($("[data-select]").not(g));
            this.showOptions(g);
        }
        return true;
    }
}, _processKeypressSelect: function _processKeypressSelect(h) {
    var g = $(h.currentTarget), c = g[0].getAttribute("data-original-id"), d = g[0].getAttribute("data-select-id"), a = $("#" + c), i = $("#" + d), b = h.which || h.keyCode, f = String.fromCodePoint(b);
    switch (b) {
        case 38:
            return true;
            break;
        case 40:
            return true;
            break;
        case 36:
            return true;
            break;
        case 35:
            return true;
            break;
        case 33:
            return true;
            break;
        case 34:
            return true;
            break;
        case 27:
            return true;
            break;
        case 9:
            return true;
            break;
        default:
            if (this.timer === null) {
                this.timer = setInterval($.proxy(this._incrementTimer, this), 1);
                this.searchTerm = f;
            } else {
                if (this.searchTerm === f) {
                    this.repeatCount += 1;
                } else {
                    this.searchTerm += f;
                }
            }
            this.selectOptionByValue(this.searchTerm, i, a, this.repeatCount);
            return false;
            break;
    }
}, _processKeydownSelect: function _processKeydownSelect(h) {
    var i = $(h.currentTarget), d = i.find(".selected"), c = i[0].getAttribute("data-original-id"), b = i[0].getAttribute("data-select-id"), g = $("#" + c), f = $("#" + b), a = f.hasClass("expanded"), j = h.keyCode;
    switch (j) {
        case 38:
            this.selectOption(this._getNthOption(f, d, -1), f, g);
            if (!a) {
                this.setOption(g);
            }
            return false;
            break;
        case 40:
            this.selectOption(this._getNthOption(f, d, 1), f, g);
            if (!a) {
                this.setOption(g);
            }
            return false;
            break;
        case 36:
            this.selectOption(this._getFirstOption(f), f, g);
            if (!a) {
                this.setOption(g);
            }
            return false;
            break;
        case 35:
            this.selectOption(this._getLastOption(f), f, g);
            if (!a) {
                this.setOption(g);
            }
            return false;
            break;
        case 33:
            if (a) {
                this.selectOption(this._getNthOption(f, d, -(this.pagerSize)), f, g);
            }
            return false;
            break;
        case 34:
            if (a) {
                this.selectOption(this._getNthOption(f, d, this.pagerSize), f, g);
            }
            return false;
            break;
        case 27:
        case 13:
            this._processEnterKeydownSelect(h);
            this.setOption(g);
            break;
        case 9:
            this._clearTimer();
            this.setOption(g);
            return true;
            break;
    }
}, _processBlurSelect: function _processBlurSelect(f) {
    var d = f.currentTarget, c = d.getAttribute("data-select-id"), g = $("#" + c), b = g[0].getAttribute("data-original-id"), a = $("#" + b);
    if (["option", "scrollbar", "track", "thumb", "end"].indexOf($(document.activeElement)[0].className) > -1) {
        return false;
    } else {
        this.hideOptions(g);
        this.setOption(a);
        return true;
    }
}, _processClickOption: function _processClickOption(g) {
    var c = g.currentTarget.tagName.toLowerCase(), f, h, b, d, a;
    if (c === "option") {
        a = $(g.currentTarget).parents("select");
        d = a[0].getAttribute("data-select-id");
        h = $("#" + d);
        f = h.find('[data-value="' + g.currentTarget.value + '"]');
        g.preventDefault();
        g.stopPropagation();
    } else {
        f = $(g.currentTarget);
        h = f.parents(".select-box");
        b = h[0].getAttribute("data-original-id");
        a = $("#" + b);
    }
    this.selectOption(f, h, a);
    this.setOption(a);
}, _processDisableSelect: function _processDisableSelect(f) {
    var d = f.currentTarget, b = d.getAttribute("data-original-id"), c = d.getAttribute("data-select-id"), a = $("#" + b), g = $("#" + c);
    this.hideOptions(g);
    a.prop("disabled", true).attr("disabled", "disabled");
    g.addClass("disabled");
}, _processEnableSelect: function _processEnableSelect(f) {
    var d = f.currentTarget, b = d.getAttribute("data-original-id"), c = d.getAttribute("data-select-id"), a = $("#" + b), g = $("#" + c);
    a.prop("disabled", false).removeAttr("disabled", "disabled");
    g.removeClass("disabled");
}, _getFirstOption: function _getFirstOption(a) {
    return a.find(".option").first();
}, _getLastOption: function _getLastOption(a) {
    return a.find(".option").last();
}, _getNthOption: function _getNthOption(g, c, f) {
    var d = g.find(".option"), a = d.length, e = d.index(c), b = f + e;
    if (b < 0) {
        return $(d[0]);
    } else {
        if (b > a) {
            return $(d[a - 1]);
        } else {
            return $(d[b]);
        }
    }
}, _processEnterKeydownSelect: function _processEnterKeydownSelect(a) {
    a.preventDefault();
    this.hideOptions($("#" + a.currentTarget.getAttribute("data-select-id")));
}, _calculateScrollOffset: function _calculateScrollOffset(e) {
    var c = parseInt(e.find(".options").css("max-height"), 10) || 200, b = Math.floor((c - parseInt(e.find(".option").css("height"), 10)) / 2) || 30, a = e.find(".overview").outerHeight() - c, d = e.find(".selected").position().top - b;
    if (d < 0) {
        return 0;
    } else {
        if (d > a) {
            return a;
        } else {
            return d;
        }
    }
}, showOptions: function showOptions(c) {
    var b = c.find(".options"), a;
    c.addClass("expanded");
    this.body.addClass("no-select");
    if (b.hasClass("scrollbar-content")) {
        a = this._calculateScrollOffset(c);
        b.tinyscrollbar_update(a);
    } else {
        if (b[0].scrollHeight > parseInt(b.css("max-height"), 10)) {
            b.tinyscrollbar({wheel: 24, sizethumb: "auto"});
            a = this._calculateScrollOffset(c);
            b.tinyscrollbar_update(a);
        }
    }
}, hideOptions: function hideOptions(a) {
    a.removeClass("expanded");
    this.body.removeClass("no-select");
}, selectOptionByValue: function _processTypeaheadSelect(d, e, c, b) {
    if (typeof d !== "string") {
        d = d.toString();
    }
    b = b || 1;
    var a = this._findOptionByLabel(d, e, b - 1);
    if (a && a.length) {
        this.selectOption(a, e, c);
    }
}, _findOptionByLabel: function _findOptionByLabel(b, d, a) {
    a = a || 0;
    var c = d.find('.option:caseInsensitiveStartsWith("' + b + '")');
    if (c.length) {
        return $(c[a % c.length]);
    } else {
        return null;
    }
}, selectOption: function selectOption(a, c, d) {
    var e = c.find(".current"), h = a[0].getAttribute("data-value"), g = a.find("i")[0], i = a.find(".text").text(), f = c.find(".options"), b;
    c.find(".selected").removeClass("selected");
    a.addClass("selected");
    d.find('[value="' + h + '"]').prop("selected", true).attr("selected", "selected");
    if (a.hasClass("placeholder")) {
        e.addClass("placeholder");
    } else {
        e.removeClass("placeholder");
    }
    if (typeof g === "undefined") {
        e.children("i").removeAttr("class");
    } else {
        e.children("i")[0].className = g.className;
    }
    e.children(".text").text(i);
    if (f.hasClass("scrollbar-content")) {
        b = this._calculateScrollOffset(c);
        f.tinyscrollbar_update(b);
    }
}, setOption: function setOption(a) {
    a.trigger("change");
}};
$(function () {
    (function () {
        var g = document, b = g.getElementsByTagName("select"), e = [], f, d, a, c = {};
        for (d = 0, a = b.length; d < a; d++) {
            f = b[d];
            e[d] = Select.create(f, c);
            if (d === 0) {
                SelectEventHandler.registerEvents(document);
            }
        }
    })();
});
$.tiny = $.tiny || {};
$.tiny.scrollbar = {options: {axis: "y", wheel: 40, scroll: true, lockscroll: true, size: "auto", sizeThumb: "auto", sizeThumbMin: 50, createElements: true, callback: null}};
$.fn.tinyscrollbar = function (b) {
    var a = $.extend({}, $.tiny.scrollbar.options, b);
    this.each(function () {
        $(this).data("tsb", new Scrollbar($(this), a));
    });
    return this;
};
$.fn.tinyscrollbar_update = function (a) {
    return $(this).data("tsb").update(a);
};
function Scrollbar(t, f) {
    var q = $("body"), j = this, i, g, c, l, p, k = f.axis === "x", n = k ? "left" : "top", v = k ? "Width" : "Height", r = 0, y = {start: 0, now: 0}, o = {}, d = ("ontouchstart" in document.documentElement);

    function b() {
        if (f.createElements) {
            m();
        } else {
            a();
        }
        j.update();
        s();
        return j;
    }

    function m() {
        var F = document, B, A = F.createElement("div"), D = F.createElement("div"), E = F.createElement("div"), z = F.createElement("div"), G = F.createElement("div"), C = F.createElement("div");
        A.className = "scrollbar";
        D.className = "track";
        E.className = "thumb";
        z.className = "end";
        G.className = "viewport";
        C.className = "overview";
        E.appendChild(z);
        D.appendChild(E);
        A.appendChild(D);
        G.appendChild(C);
        t.addClass("scrollbar-content");
        B = $(A).clone(false).css({position: "aboslute", left: "-9999em"}).appendTo(t);
        if (f.axis === "y") {
            G.style.height = t.css("height");
        } else {
            G.style.height = t.height() - B.height() + "px";
        }
        $(B).remove();
        t.children().wrapAll(G);
        t.append(A);
        a();
    }

    function a() {
        i = {obj: $(".viewport", t)};
        g = {obj: $(".overview", t)};
        c = {obj: $(".scrollbar", t)};
        l = {obj: $(".track", c.obj)};
        p = {obj: $(".thumb", c.obj)};
    }

    this.update = function (z) {
        if (typeof i.obj[0] === "undefined") {
            return;
        }
        i[f.axis] = i.obj[0]["offset" + v];
        g[f.axis] = g.obj[0]["scroll" + v];
        g.ratio = i[f.axis] / g[f.axis];
        c.obj.toggleClass("disable", g.ratio >= 1);
        l[f.axis] = f.size === "auto" ? i[f.axis] : f.size;
        p[f.axis] = Math.min(l[f.axis], Math.max(0, (f.sizeThumb === "auto" ? (l[f.axis] * g.ratio) : f.sizeThumb)));
        if (p[f.axis] < f.sizeThumbMin) {
            p[f.axis] = f.sizeThumbMin;
            f.sizeThumb = f.sizeThumbMin;
        }
        c.ratio = f.sizeThumb === "auto" ? (g[f.axis] / l[f.axis]) : (g[f.axis] - i[f.axis]) / (l[f.axis] - p[f.axis]);
        r = (z === "relative" && g.ratio <= 1) ? Math.min((g[f.axis] - i[f.axis]), Math.max(0, r)) : 0;
        r = (z === "bottom" && g.ratio <= 1) ? (g[f.axis] - i[f.axis]) : isNaN(parseInt(z, 10)) ? r : parseInt(z, 10);
        w();
    };
    function w() {
        var z = v.toLowerCase();
        p.obj.css(n, r / c.ratio);
        g.obj.css(n, -r);
        o.start = p.obj.offset()[n];
        c.obj.css(z, l[f.axis]);
        l.obj.css(z, l[f.axis]);
        p.obj.css(z, p[f.axis]);
    }

    function s() {
        if (!d) {
            p.obj.bind("mousedown", h);
            l.obj.bind("mouseup", u);
        } else {
            i.obj[0].ontouchstart = function (z) {
                if (1 === z.touches.length) {
                    h(z.touches[0]);
                    z.stopPropagation();
                }
            };
        }
        if (f.scroll && window.addEventListener) {
            t[0].addEventListener("DOMMouseScroll", x, false);
            t[0].addEventListener("mousewheel", x, false);
        } else {
            if (f.scroll) {
                t[0].onmousewheel = x;
            }
        }
    }

    function h(A) {
        var z = parseInt(p.obj.css(n), 10);
        o.start = k ? A.pageX : A.pageY;
        y.start = z == "auto" ? 0 : z;
        q.addClass("no-select");
        if (!d) {
            $(document).bind("mousemove", u);
            $(document).bind("mouseup", e);
            p.obj.bind("mouseup", e);
        } else {
            document.ontouchmove = function (B) {
                B.preventDefault();
                u(B.touches[0]);
            };
            document.ontouchend = e;
        }
    }

    function x(B) {
        if (g.ratio < 1) {
            var A = B || window.event, z = A.wheelDelta ? A.wheelDelta / 120 : -A.detail / 3;
            r -= z * f.wheel;
            r = Math.min((g[f.axis] - i[f.axis]), Math.max(0, r));
            p.obj.css(n, r / c.ratio);
            g.obj.css(n, -r);
            if (f.lockscroll || (r !== (g[f.axis] - i[f.axis]) && r !== 0)) {
                A = $.event.fix(A);
                A.preventDefault();
            }
            if (f.callback != null) {
                f.callback();
            }
            B.stopPropagation();
        }
    }

    function u(z) {
        if (g.ratio < 1) {
            if (!d) {
                y.now = Math.min((l[f.axis] - p[f.axis]), Math.max(0, (y.start + ((k ? z.pageX : z.pageY) - o.start))));
            } else {
                y.now = Math.min((l[f.axis] - p[f.axis]), Math.max(0, (y.start + (o.start - (k ? z.pageX : z.pageY)))));
            }
            r = y.now * c.ratio;
            g.obj.css(n, -r);
            p.obj.css(n, y.now);
            if (f.callback != null) {
                f.callback();
            }
        }
    }

    function e() {
        q.removeClass("no-select");
        $(document).unbind("mousemove", u);
        $(document).unbind("mouseup", e);
        p.obj.unbind("mouseup", e);
        document.ontouchmove = document.ontouchend = null;
    }

    return b();
}
$(function () {
    $('[data-scrollbar="true"]').each(function () {
        var b = $(this), c = b.data(), a = {};
        a.axis = c.axis || "y";
        a.wheel = parseInt(c.wheel, 10) || 40;
        a.scroll = c.scroll !== "false";
        a.lockscroll = c.lockscroll !== "false";
        a.size = c.size || "auto";
        a.sizeThumb = c.sizeThumb || "auto";
        a.createElements = c.createElements || !b.children(".scrollbar").length;
        a.sizeThumbMin = parseInt(c.sizeThumbMin, 10) || 50;
        b.tinyscrollbar(a);
    });
});
function ScrollSpy(d, c) {
    var e = $.proxy(this.process, this), a = $(d).is("body") ? $(window) : $(d), b;
    this.options = $.extend({}, $.fn.scrollspy.defaults, c);
    this.$scrollElement = a.on("scroll.scroll-spy.data-api", e);
    this.selector = (this.options.target || ((b = $(d).attr("href")) && b.replace(/.*(?=#[^\s]+$)/, "")) || "") + " .nav li > a";
    this.$body = $("body");
    this.refresh();
    this.process();
}
ScrollSpy.prototype = {constructor: ScrollSpy, refresh: function () {
    var a = this, b;
    this.offsets = $([]);
    this.targets = $([]);
    b = this.$body.find(this.selector).map(function () {
        var d = $(this), c = d.data("target") || d.attr("href"), e = /^#\w/.test(c) && $(c);
        return(e && e.length && [
            [e.position().top, c]
        ]) || null;
    }).sort(function (d, c) {
        return d[0] - c[0];
    }).each(function () {
        a.offsets.push(this[0]);
        a.targets.push(this[1]);
    });
}, process: function () {
    var f = this.$scrollElement.scrollTop() + this.options.offset, c = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, e = c - this.$scrollElement.height(), d = this.offsets, a = this.targets, g = this.activeTarget, b;
    if (f >= e) {
        return g !== (b = a.last()[0]) && this.activate(b);
    }
    for (b = d.length; b--;) {
        g !== a[b] && f >= d[b] && (!d[b + 1] || f <= d[b + 1]) && this.activate(a[b]);
    }
}, activate: function (c) {
    var b, a;
    this.activeTarget = c;
    $(this.selector).parent(".active").removeClass("active");
    a = this.selector + '[data-target="' + c + '"],' + this.selector + '[href="' + c + '"]';
    b = $(a).parent("li").addClass("active");
    if (b.parent(".dropdown-menu").length) {
        b = b.closest("li.dropdown").addClass("active");
    }
    b.trigger("activate");
}};
$.fn.scrollspy = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("scrollspy"), b = typeof a === "object" && a;
        if (!c) {
            d.data("scrollspy", (c = new ScrollSpy(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        }
    });
};
$.fn.scrollspy.Constructor = ScrollSpy;
$.fn.scrollspy.defaults = {offset: 10};
$(window).on("load", function () {
    $('[data-spy="scroll"]').each(function () {
        var a = $(this);
        a.scrollspy(a.data());
    });
});
var Tab = function (a) {
    this.element = $(a);
};
Tab.prototype = {constructor: Tab, show: function () {
    var g = this.element, c = g.closest("ul:not(.dropdown-menu)"), b = g.attr("data-target"), d, a, f;
    if (!b) {
        b = g.attr("href");
        b = b && b.replace(/.*(?=#[^\s]*$)/, "");
    }
    if (g.parent("li").hasClass("active")) {
        return;
    }
    d = c.find(".active:last a")[0];
    f = $.Event("show", {relatedTarget: d});
    g.trigger(f);
    if (f.isDefaultPrevented()) {
        return;
    }
    a = $(b);
    this.activate(g.parent("li"), c);
    this.activate(a, a.parent(), function () {
        g.trigger({type: "shown", relatedTarget: d});
    });
}, activate: function (c, b, f) {
    var a = b.find("> .active"), e = f && $.support.transition && a.hasClass("fade");

    function d() {
        a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");
        c.addClass("active");
        if (e) {
            c[0].offsetWidth = c[0].offsetWidth + 0;
            c.addClass("in");
        } else {
            c.removeClass("fade");
        }
        if (c.parent(".dropdown-menu")) {
            c.closest("li.dropdown").addClass("active");
        }
        f && f();
    }

    e ? a.one($.support.transition.end, d) : d();
    a.removeClass("in");
}};
$.fn.tab = function (a) {
    return this.each(function () {
        var c = $(this), b = c.data("tab");
        if (!b) {
            c.data("tab", (b = new Tab(this)));
        }
        if (typeof a === "string") {
            b[a]();
        }
    });
};
$.fn.tab.Constructor = Tab;
$(document).on("click.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function (a) {
    a.preventDefault();
    $(this).tab("show");
});
var Tooltip = function (b, a) {
    this.init("tooltip", b, a);
};
Tooltip.prototype = {constructor: Tooltip, init: function (d, c, b) {
    var e, a;
    this.type = d;
    this.$element = $(c);
    this.options = this.getOptions(b);
    this.enabled = true;
    if (this.options.trigger === "click") {
        this.$element.on("click." + this.type, this.options.selector, $.proxy(this.toggle, this));
    } else {
        if (this.options.trigger !== "manual") {
            e = this.options.trigger === "hover" ? "mouseenter" : "focus";
            a = this.options.trigger === "hover" ? "mouseleave" : "blur";
            this.$element.on(e + "." + this.type, this.options.selector, $.proxy(this.enter, this));
            this.$element.on(a + "." + this.type, this.options.selector, $.proxy(this.leave, this));
        }
    }
    this.options.selector ? (this._options = $.extend({}, this.options, {trigger: "manual", selector: ""})) : this.fixTitle();
}, getOptions: function (a) {
    a = $.extend({}, $.fn[this.type].defaults, a, this.$element.data());
    if (a.delay && typeof a.delay === "number") {
        a.delay = {show: a.delay, hide: a.delay};
    }
    return a;
}, enter: function (b) {
    var a = $(b.currentTarget)[this.type](this._options).data(this.type);
    if (!a.options.delay || !a.options.delay.show) {
        return a.show();
    }
    clearTimeout(this.timeout);
    a.hoverState = "in";
    this.timeout = setTimeout(function () {
        if (a.hoverState === "in") {
            a.show();
        }
    }, a.options.delay.show);
    return true;
}, leave: function (b) {
    var a = $(b.currentTarget)[this.type](this._options).data(this.type);
    if (this.timeout) {
        clearTimeout(this.timeout);
    }
    if (!a.options.delay || !a.options.delay.hide) {
        return a.hide();
    }
    a.hoverState = "out";
    this.timeout = setTimeout(function () {
        if (a.hoverState === "out") {
            a.hide();
        }
    }, a.options.delay.hide);
    return true;
}, show: function () {
    var e, c, h, b, g, d, f, i, a;
    if (this.hasContent() && this.enabled) {
        e = this.tip();
        this.setContent();
        if (this.options.animation) {
            e.addClass("fade");
        }
        if (typeof this.options.placement === "function") {
            d = this.options.placement.call(this, e[0], this.$element[0]);
        } else {
            d = this.options.placement;
        }
        if (typeof this.options.position === "function") {
            f = this.options.position();
        } else {
            if (typeof this.options.position === "string" && $.inArray(this.options.position, ["static", "relative", "absolute", "fixed", "inherit"]) >= 0) {
                f = this.options.position;
            } else {
                f = "static";
            }
        }
        c = /in/.test(d);
        e.detach().css({top: 0, left: 0, display: "block"}).insertAfter(this.$element);
        a = this.options.container === "" ? "" : $(this.options.container);
        a.length ? e.appendTo(a) : e.insertAfter(this.$element);
        h = this.getPosition(c);
        if (f === "fixed") {
            e.addClass("tooltip-fixed");
        }
        b = e[0].offsetWidth;
        g = e[0].offsetHeight;
        switch (c ? d.split(" ")[1] : d) {
            case"bottom":
                i = {top: h.top + h.height, left: h.left + h.width / 2 - b / 2};
                break;
            case"top":
                i = {top: h.top - g, left: h.left + h.width / 2 - b / 2};
                break;
            case"left":
                i = {top: h.top + h.height / 2 - g / 2, left: h.left - b};
                break;
            case"right":
                i = {top: h.top + h.height / 2 - g / 2, left: h.left + h.width};
                break;
        }
        e.offset(i).addClass(d).addClass("in");
    }
}, setContent: function () {
    var b = this.tip(), a = this.getTitle();
    b.find(".tooltip-inner")[this.options.html ? "html" : "text"](a);
    b.removeClass("fade in top bottom left right");
}, hide: function () {
    var a = this.tip();
    a.removeClass("in");
    function b() {
        var c = setTimeout(function () {
            a.off($.support.transition.end).detach();
        }, 500);
        a.one($.support.transition.end, function () {
            clearTimeout(c);
            a.detach();
        });
    }

    $.support.transition && this.$tip.hasClass("fade") ? b() : a.detach();
    return this;
}, fixTitle: function () {
    var a = this.$element;
    if (a.attr("title") || typeof(a.attr("data-original-title")) !== "string") {
        a.attr("data-original-title", a.attr("title") || "").attr("title", "");
    }
}, hasContent: function () {
    return this.getTitle();
}, getPosition: function (a) {
    return $.extend({}, (a ? {top: 0, left: 0} : this.$element.offset()), {width: this.$element[0].offsetWidth, height: this.$element[0].offsetHeight});
}, getTitle: function () {
    var c, a = this.$element, b = this.options;
    c = a.attr("data-original-title") || (typeof b.title === "function" ? b.title.call(a[0]) : b.title);
    return c;
}, tip: function () {
    return this.$tip = this.$tip || $(this.options.template);
}, validate: function () {
    if (!this.$element[0].parentNode) {
        this.hide();
        this.$element = null;
        this.options = null;
    }
}, enable: function () {
    this.enabled = true;
}, disable: function () {
    this.enabled = false;
}, toggleEnabled: function () {
    this.enabled = !this.enabled;
}, toggle: function (b) {
    var a = (b) ? $(b.currentTarget)[this.type](this._options).data(this.type) : this;
    a.tip().hasClass("in") ? a.hide() : a.show();
}, destroy: function () {
    this.hide().$element.off("." + this.type).removeData(this.type);
}};
$.fn.tooltip = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("tooltip"), b = typeof a === "object" && a;
        if (!c) {
            d.data("tooltip", (c = new Tooltip(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        }
    });
};
$.fn.tooltip.Constructor = Tooltip;
$.fn.tooltip.defaults = {animation: true, placement: "top", position: "static", selector: false, template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover", title: "", delay: 0, html: false, container: "body"};
var Popover = function (b, a) {
    this.init("popover", b, a);
};
Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype, {constructor: Popover, setContent: function () {
    var c = this.tip(), b = this.getTitle(), a = this.getContent();
    c.find(".popover-title")[this.options.html ? "html" : "text"](b);
    c.find(".popover-content")[this.options.html ? "html" : "text"](a);
    c.removeClass("fade top bottom left right in");
}, hasContent: function () {
    return this.getTitle() || this.getContent();
}, getContent: function () {
    var b, a = this.$element, c = this.options;
    b = a.attr("data-content") || (typeof c.content === "function" ? c.content.call(a[0]) : c.content);
    return b;
}, tip: function () {
    if (!this.$tip) {
        this.$tip = $(this.options.template);
    }
    return this.$tip;
}, destroy: function () {
    this.hide().$element.off("." + this.type).removeData(this.type);
}});
$.fn.popover = function (a) {
    return this.each(function () {
        var d = $(this), c = d.data("popover"), b = typeof a === "object" && a;
        if (!c) {
            d.data("popover", (c = new Popover(this, b)));
        }
        if (typeof a === "string") {
            c[a]();
        }
    });
};
$.fn.popover.Constructor = Popover;
$.fn.popover.defaults = $.extend({}, $.fn.tooltip.defaults, {placement: "right", trigger: "click", content: "", template: '<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'});
(function (c) {
    var l = "0.9.1";
    var j = {isMsie: function () {
        var m = /(msie) ([\w.]+)/i.exec(navigator.userAgent);
        return m ? parseInt(m[2], 10) : false;
    }, isBlankString: function (m) {
        return !m || /^\s*$/.test(m);
    }, escapeRegExChars: function (m) {
        return m.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
    }, isString: function (m) {
        return typeof m === "string";
    }, isNumber: function (m) {
        return typeof m === "number";
    }, isArray: c.isArray, isFunction: c.isFunction, isObject: c.isPlainObject, isUndefined: function (m) {
        return typeof m === "undefined";
    }, bind: c.proxy, bindAll: function (n) {
        var o;
        for (var m in n) {
            c.isFunction(o = n[m]) && (n[m] = c.proxy(o, n));
        }
    }, indexOf: function (n, o) {
        for (var m = 0; m < n.length; m++) {
            if (n[m] === o) {
                return m;
            }
        }
        return -1;
    }, each: c.each, map: c.map, filter: c.grep, every: function (n, o) {
        var m = true;
        if (!n) {
            return m;
        }
        c.each(n, function (p, q) {
            if (!(m = o.call(null, q, p, n))) {
                return false;
            }
        });
        return !!m;
    }, some: function (n, o) {
        var m = false;
        if (!n) {
            return m;
        }
        c.each(n, function (p, q) {
            if (m = o.call(null, q, p, n)) {
                return false;
            }
        });
        return !!m;
    }, mixin: c.extend, getUniqueId: function () {
        var m = 0;
        return function () {
            return m++;
        };
    }(), defer: function (m) {
        setTimeout(m, 0);
    }, debounce: function (o, q, n) {
        var p, m;
        return function () {
            var u = this, t = arguments, s, r;
            s = function () {
                p = null;
                if (!n) {
                    m = o.apply(u, t);
                }
            };
            r = n && !p;
            clearTimeout(p);
            p = setTimeout(s, q);
            if (r) {
                m = o.apply(u, t);
            }
            return m;
        };
    }, throttle: function (r, t) {
        var p, o, s, m, q, n;
        q = 0;
        n = function () {
            q = new Date();
            s = null;
            m = r.apply(p, o);
        };
        return function () {
            var u = new Date(), v = t - (u - q);
            p = this;
            o = arguments;
            if (v <= 0) {
                clearTimeout(s);
                s = null;
                q = u;
                m = r.apply(p, o);
            } else {
                if (!s) {
                    s = setTimeout(n, v);
                }
            }
            return m;
        };
    }, tokenizeQuery: function (m) {
        return c.trim(m).toLowerCase().split(/[\s]+/);
    }, tokenizeText: function (m) {
        return c.trim(m).toLowerCase().split(/[\s\-_]+/);
    }, getProtocol: function () {
        return location.protocol;
    }, noop: function () {
    }};
    var k = function () {
        var m = /\s+/;
        return{on: function (n, p) {
            var o;
            if (!p) {
                return this;
            }
            this._callbacks = this._callbacks || {};
            n = n.split(m);
            while (o = n.shift()) {
                this._callbacks[o] = this._callbacks[o] || [];
                this._callbacks[o].push(p);
            }
            return this;
        }, trigger: function (o, r) {
            var q, p;
            if (!this._callbacks) {
                return this;
            }
            o = o.split(m);
            while (q = o.shift()) {
                if (p = this._callbacks[q]) {
                    for (var n = 0; n < p.length; n += 1) {
                        p[n].call(this, {type: q, data: r});
                    }
                }
            }
            return this;
        }};
    }();
    var e = function () {
        var n = "typeahead:";

        function m(p) {
            if (!p || !p.el) {
                c.error("EventBus initialized without el");
            }
            this.$el = c(p.el);
        }

        j.mixin(m.prototype, {trigger: function (p) {
            var o = [].slice.call(arguments, 1);
            this.$el.trigger(n + p, o);
        }});
        return m;
    }();
    var g = function () {
        var m = window.localStorage, n;

        function p(s) {
            this.prefix = ["__", s, "__"].join("");
            this.ttlKey = "__ttl__";
            this.keyMatcher = new RegExp("^" + this.prefix);
        }

        if (window.localStorage && window.JSON) {
            n = {_prefix: function (s) {
                return this.prefix + s;
            }, _ttlKey: function (s) {
                return this._prefix(s) + this.ttlKey;
            }, get: function (s) {
                if (this.isExpired(s)) {
                    this.remove(s);
                }
                return r(m.getItem(this._prefix(s)));
            }, set: function (t, u, s) {
                if (j.isNumber(s)) {
                    m.setItem(this._ttlKey(t), q(o() + s));
                } else {
                    m.removeItem(this._ttlKey(t));
                }
                return m.setItem(this._prefix(t), q(u));
            }, remove: function (s) {
                m.removeItem(this._ttlKey(s));
                m.removeItem(this._prefix(s));
                return this;
            }, clear: function () {
                var u, t, v = [], s = m.length;
                for (u = 0; u < s; u++) {
                    if ((t = m.key(u)).match(this.keyMatcher)) {
                        v.push(t.replace(this.keyMatcher, ""));
                    }
                }
                for (u = v.length; u--;) {
                    this.remove(v[u]);
                }
                return this;
            }, isExpired: function (t) {
                var s = r(m.getItem(this._ttlKey(t)));
                return j.isNumber(s) && o() > s ? true : false;
            }};
        } else {
            n = {get: j.noop, set: j.noop, remove: j.noop, clear: j.noop, isExpired: j.noop};
        }
        j.mixin(p.prototype, n);
        return p;
        function o() {
            return new Date().getTime();
        }

        function q(s) {
            return JSON.stringify(j.isUndefined(s) ? null : s);
        }

        function r(s) {
            return JSON.parse(s);
        }
    }();
    var i = function () {
        function m(n) {
            j.bindAll(this);
            n = n || {};
            this.sizeLimit = n.sizeLimit || 10;
            this.cache = {};
            this.cachedKeysByAge = [];
        }

        j.mixin(m.prototype, {get: function (n) {
            return this.cache[n];
        }, set: function (o, p) {
            var n;
            if (this.cachedKeysByAge.length === this.sizeLimit) {
                n = this.cachedKeysByAge.shift();
                delete this.cache[n];
            }
            this.cache[o] = p;
            this.cachedKeysByAge.push(o);
        }});
        return m;
    }();
    var d = function () {
        var n = 0, q = {}, m, s;

        function t(u) {
            j.bindAll(this);
            u = j.isString(u) ? {url: u} : u;
            s = s || new i();
            m = j.isNumber(u.maxParallelRequests) ? u.maxParallelRequests : m || 6;
            this.url = u.url;
            this.wildcard = u.wildcard || "%QUERY";
            this.filter = u.filter;
            this.replace = u.replace;
            this.ajaxSettings = {type: "get", cache: u.cache, timeout: u.timeout, dataType: u.dataType || "json", beforeSend: u.beforeSend};
            this._get = (/^throttle$/i.test(u.rateLimitFn) ? j.throttle : j.debounce)(this._get, u.rateLimitWait || 300);
        }

        j.mixin(t.prototype, {_get: function (w, u) {
            var x = this;
            if (p()) {
                this._sendRequest(w).done(v);
            } else {
                this.onDeckRequestArgs = [].slice.call(arguments, 0);
            }
            function v(z) {
                var y = x.filter ? x.filter(z) : z;
                u && u(y);
                s.set(w, z);
            }
        }, _sendRequest: function (v) {
            var x = this, w = q[v];
            if (!w) {
                o();
                w = q[v] = c.ajax(v, this.ajaxSettings).always(u);
            }
            return w;
            function u() {
                r();
                q[v] = null;
                if (x.onDeckRequestArgs) {
                    x._get.apply(x, x.onDeckRequestArgs);
                    x.onDeckRequestArgs = null;
                }
            }
        }, get: function (y, u) {
            var x = this, w = encodeURIComponent(y || ""), v, z;
            u = u || j.noop;
            v = this.replace ? this.replace(this.url, w) : this.url.replace(this.wildcard, w);
            if (z = s.get(v)) {
                j.defer(function () {
                    u(x.filter ? x.filter(z) : z);
                });
            } else {
                this._get(v, u);
            }
            return !!z;
        }});
        return t;
        function o() {
            n++;
        }

        function r() {
            n--;
        }

        function p() {
            return n < m;
        }
    }();
    var a = function () {
        var o = {thumbprint: "thumbprint", protocol: "protocol", itemHash: "itemHash", adjacencyList: "adjacencyList"};

        function n(p) {
            j.bindAll(this);
            if (j.isString(p.template) && !p.engine) {
                c.error("no template engine specified");
            }
            if (!p.local && !p.prefetch && !p.remote) {
                c.error("one of local, prefetch, or remote is required");
            }
            this.name = p.name || j.getUniqueId();
            this.limit = p.limit || 5;
            this.minLength = p.minLength || 1;
            this.header = p.header;
            this.footer = p.footer;
            this.valueKey = p.valueKey || "value";
            this.template = m(p.template, p.engine, this.valueKey);
            this.local = p.local;
            this.prefetch = p.prefetch;
            this.remote = p.remote;
            this.itemHash = {};
            this.adjacencyList = {};
            this.storage = p.name ? new g(p.name) : null;
        }

        j.mixin(n.prototype, {_processLocalData: function (p) {
            this._mergeProcessedData(this._processData(p));
        }, _loadPrefetchData: function (q) {
            var t = this, y = l + (q.thumbprint || ""), w, r, u, p, s, x;
            if (this.storage) {
                w = this.storage.get(o.thumbprint);
                r = this.storage.get(o.protocol);
                u = this.storage.get(o.itemHash);
                p = this.storage.get(o.adjacencyList);
            }
            s = w !== y || r !== j.getProtocol();
            q = j.isString(q) ? {url: q} : q;
            q.ttl = j.isNumber(q.ttl) ? q.ttl : 24 * 60 * 60 * 1000;
            if (u && p && !s) {
                this._mergeProcessedData({itemHash: u, adjacencyList: p});
                x = c.Deferred().resolve();
            } else {
                x = c.getJSON(q.url).done(v);
            }
            return x;
            function v(D) {
                var C = q.filter ? q.filter(D) : D, B = t._processData(C), z = B.itemHash, A = B.adjacencyList;
                if (t.storage) {
                    t.storage.set(o.itemHash, z, q.ttl);
                    t.storage.set(o.adjacencyList, A, q.ttl);
                    t.storage.set(o.thumbprint, y, q.ttl);
                    t.storage.set(o.protocol, j.getProtocol(), q.ttl);
                }
                t._mergeProcessedData(B);
            }
        }, _transformDatum: function (p) {
            var r = j.isString(p) ? p : p[this.valueKey], s = p.tokens || j.tokenizeText(r), q = {value: r, tokens: s};
            if (j.isString(p)) {
                q.datum = {};
                q.datum[this.valueKey] = p;
            } else {
                q.datum = p;
            }
            q.tokens = j.filter(q.tokens, function (t) {
                return !j.isBlankString(t);
            });
            q.tokens = j.map(q.tokens, function (t) {
                return t.toLowerCase();
            });
            return q;
        }, _processData: function (s) {
            var r = this, p = {}, q = {};
            j.each(s, function (u, t) {
                var v = r._transformDatum(t), w = j.getUniqueId(v.value);
                p[w] = v;
                j.each(v.tokens, function (y, x) {
                    var A = x.charAt(0), z = q[A] || (q[A] = [w]);
                    !~j.indexOf(z, w) && z.push(w);
                });
            });
            return{itemHash: p, adjacencyList: q};
        }, _mergeProcessedData: function (p) {
            var q = this;
            j.mixin(this.itemHash, p.itemHash);
            j.each(p.adjacencyList, function (t, s) {
                var r = q.adjacencyList[t];
                q.adjacencyList[t] = r ? r.concat(s) : s;
            });
        }, _getLocalSuggestions: function (u) {
            var t = this, s = [], q = [], r, p = [];
            j.each(u, function (w, v) {
                var x = v.charAt(0);
                !~j.indexOf(s, x) && s.push(x);
            });
            j.each(s, function (v, w) {
                var x = t.adjacencyList[w];
                if (!x) {
                    return false;
                }
                q.push(x);
                if (!r || x.length < r.length) {
                    r = x;
                }
            });
            if (q.length < s.length) {
                return[];
            }
            j.each(r, function (v, z) {
                var x = t.itemHash[z], y, w;
                y = j.every(q, function (A) {
                    return ~j.indexOf(A, z);
                });
                w = y && j.every(u, function (A) {
                    return j.some(x.tokens, function (B) {
                        return B.indexOf(A) === 0;
                    });
                });
                w && p.push(x);
            });
            return p;
        }, initialize: function () {
            var p;
            this.local && this._processLocalData(this.local);
            this.transport = this.remote ? new d(this.remote) : null;
            p = this.prefetch ? this._loadPrefetchData(this.prefetch) : c.Deferred().resolve();
            this.local = this.prefetch = this.remote = null;
            this.initialize = function () {
                return p;
            };
            return p;
        }, getSuggestions: function (u, q) {
            var t = this, s, p, r = false;
            if (u.length < this.minLength) {
                return;
            }
            s = j.tokenizeQuery(u);
            p = this._getLocalSuggestions(s).slice(0, this.limit);
            if (p.length < this.limit && this.transport) {
                r = this.transport.get(u, v);
            }
            !r && q && q(p);
            function v(w) {
                p = p.slice(0);
                j.each(w, function (z, y) {
                    var A = t._transformDatum(y), x;
                    x = j.some(p, function (B) {
                        return A.value === B.value;
                    });
                    !x && p.push(A);
                    return p.length < t.limit;
                });
                q && q(p);
            }
        }});
        return n;
        function m(t, s, u) {
            var v = '<div class="tt-suggestion">%body</div>', r, q, p;
            if (j.isFunction(t)) {
                r = t;
            } else {
                if (j.isString(t)) {
                    q = v.replace("%body", t);
                    p = s.compile(q);
                    r = j.bind(p.render, p);
                } else {
                    r = function (w) {
                        return v.replace("%body", "<p>" + w[u] + "</p>");
                    };
                }
            }
            return r;
        }
    }();
    var b = function () {
        function n(q) {
            var p = this;
            j.bindAll(this);
            this.specialKeyCodeMap = {9: "tab", 27: "esc", 37: "left", 39: "right", 13: "enter", 38: "up", 40: "down"};
            this.$hint = c(q.hint);
            this.$input = c(q.input).on("blur.tt", this._handleBlur).on("focus.tt", this._handleFocus).on("keydown.tt", this._handleSpecialKeyEvent);
            if (!j.isMsie()) {
                this.$input.on("input.tt", this._compareQueryToInputValue);
            } else {
                this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function (r) {
                    if (p.specialKeyCodeMap[r.which || r.keyCode]) {
                        return;
                    }
                    j.defer(p._compareQueryToInputValue);
                });
            }
            this.query = this.$input.val();
            this.$overflowHelper = o(this.$input);
        }

        j.mixin(n.prototype, k, {_handleFocus: function () {
            this.trigger("focused");
        }, _handleBlur: function () {
            this.trigger("blured");
        }, _handleSpecialKeyEvent: function (p) {
            var q = this.specialKeyCodeMap[p.which || p.keyCode];
            q && this.trigger(q + "Keyed", p);
        }, _compareQueryToInputValue: function () {
            var p = this.getInputValue(), r = m(this.query, p), q = r ? this.query.length !== p.length : false;
            if (q) {
                this.trigger("whitespaceChanged", {value: this.query});
            } else {
                if (!r) {
                    this.trigger("queryChanged", {value: this.query = p});
                }
            }
        }, destroy: function () {
            this.$hint.off(".tt");
            this.$input.off(".tt");
            this.$hint = this.$input = this.$overflowHelper = null;
        }, focus: function () {
            this.$input.focus();
        }, blur: function () {
            this.$input.blur();
        }, getQuery: function () {
            return this.query;
        }, setQuery: function (p) {
            this.query = p;
        }, getInputValue: function () {
            return this.$input.val();
        }, setInputValue: function (q, p) {
            this.$input.val(q);
            !p && this._compareQueryToInputValue();
        }, getHintValue: function () {
            return this.$hint.val();
        }, setHintValue: function (p) {
            this.$hint.val(p);
        }, getLanguageDirection: function () {
            return(this.$input.css("direction") || "ltr").toLowerCase();
        }, isOverflow: function () {
            this.$overflowHelper.text(this.getInputValue());
            return this.$overflowHelper.width() > this.$input.width();
        }, isCursorAtEnd: function () {
            var q = this.$input.val().length, r = this.$input[0].selectionStart, p;
            if (j.isNumber(r)) {
                return r === q;
            } else {
                if (document.selection) {
                    p = document.selection.createRange();
                    p.moveStart("character", -q);
                    return q === p.text.length;
                }
            }
            return true;
        }});
        return n;
        function o(p) {
            return c("<span></span>").css({position: "absolute", left: "-9999px", visibility: "hidden", whiteSpace: "nowrap", fontFamily: p.css("font-family"), fontSize: p.css("font-size"), fontStyle: p.css("font-style"), fontVariant: p.css("font-variant"), fontWeight: p.css("font-weight"), wordSpacing: p.css("word-spacing"), letterSpacing: p.css("letter-spacing"), textIndent: p.css("text-indent"), textRendering: p.css("text-rendering"), textTransform: p.css("text-transform")}).insertAfter(p);
        }

        function m(q, p) {
            q = (q || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " ");
            p = (p || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " ");
            return q === p;
        }
    }();
    var f = function () {
        var o = {suggestionsList: '<span class="tt-suggestions"></span>'}, n = {suggestionsList: {display: "block"}, suggestion: {whiteSpace: "nowrap", cursor: "pointer"}, suggestionChild: {whiteSpace: "normal"}};

        function p(q) {
            j.bindAll(this);
            this.isOpen = false;
            this.isEmpty = true;
            this.isMouseOverDropdown = false;
            this.$menu = c(q.menu).on("mouseenter.tt", this._handleMouseenter).on("mouseleave.tt", this._handleMouseleave).on("click.tt", ".tt-suggestion", this._handleSelection).on("mouseover.tt", ".tt-suggestion", this._handleMouseover);
        }

        j.mixin(p.prototype, k, {_handleMouseenter: function () {
            this.isMouseOverDropdown = true;
        }, _handleMouseleave: function () {
            this.isMouseOverDropdown = false;
        }, _handleMouseover: function (r) {
            var q = c(r.currentTarget);
            this._getSuggestions().removeClass("tt-is-under-cursor");
            q.addClass("tt-is-under-cursor");
        }, _handleSelection: function (r) {
            var q = c(r.currentTarget);
            this.trigger("suggestionSelected", m(q));
        }, _show: function () {
            this.$menu.css("display", "block");
        }, _hide: function () {
            this.$menu.hide();
        }, _moveCursor: function (s) {
            var u, r, q, t;
            if (!this.isVisible()) {
                return;
            }
            u = this._getSuggestions();
            r = u.filter(".tt-is-under-cursor");
            r.removeClass("tt-is-under-cursor");
            q = u.index(r) + s;
            q = (q + 1) % (u.length + 1) - 1;
            if (q === -1) {
                this.trigger("cursorRemoved");
                return;
            } else {
                if (q < -1) {
                    q = u.length - 1;
                }
            }
            t = u.eq(q).addClass("tt-is-under-cursor");
            this.trigger("cursorMoved", m(t));
        }, _getSuggestions: function () {
            return this.$menu.find(".tt-suggestions > .tt-suggestion");
        }, destroy: function () {
            this.$menu.off(".tt");
            this.$menu = null;
        }, isVisible: function () {
            return this.isOpen && !this.isEmpty;
        }, closeUnlessMouseIsOverDropdown: function () {
            if (!this.isMouseOverDropdown) {
                this.close();
            }
        }, close: function () {
            if (this.isOpen) {
                this.isOpen = false;
                this._hide();
                this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");
                this.trigger("closed");
            }
        }, open: function () {
            if (!this.isOpen) {
                this.isOpen = true;
                !this.isEmpty && this._show();
                this.trigger("opened");
            }
        }, setLanguageDirection: function (q) {
            var r = {left: "0", right: "auto"}, s = {left: "auto", right: " 0"};
            q === "ltr" ? this.$menu.css(r) : this.$menu.css(s);
        }, moveCursorUp: function () {
            this._moveCursor(-1);
        }, moveCursorDown: function () {
            this._moveCursor(+1);
        }, getSuggestionUnderCursor: function () {
            var q = this._getSuggestions().filter(".tt-is-under-cursor").first();
            return q.length > 0 ? m(q) : null;
        }, getFirstSuggestion: function () {
            var q = this._getSuggestions().first();
            return q.length > 0 ? m(q) : null;
        }, renderSuggestions: function (w, r) {
            var q = "tt-dataset-" + w.name, s, v = this.$menu.find("." + q), x, t, u;
            if (v.length === 0) {
                s = c(o.suggestionsList).css(n.suggestionsList);
                v = c("<div></div>").addClass(q).append(w.header).append(s).append(w.footer).appendTo(this.$menu);
            }
            if (r.length > 0) {
                this.isEmpty = false;
                this.isOpen && this._show();
                x = document.createElement("div");
                t = document.createDocumentFragment();
                j.each(r, function (z, y) {
                    x.innerHTML = w.template(y.datum);
                    u = c(x.firstChild).css(n.suggestion).data("suggestion", y);
                    u.children().each(function () {
                        c(this).css(n.suggestionChild);
                    });
                    t.appendChild(u[0]);
                });
                v.show().find(".tt-suggestions").html(t);
            } else {
                this.clearSuggestions(w.name);
            }
            this.trigger("suggestionsRendered");
        }, clearSuggestions: function (s) {
            var q = s ? this.$menu.find(".tt-dataset-" + s) : this.$menu.find('[class^="tt-dataset-"]'), r = q.find(".tt-suggestions");
            q.hide();
            r.empty();
            if (this._getSuggestions().length === 0) {
                this.isEmpty = true;
                this._hide();
            }
        }});
        return p;
        function m(q) {
            return q.data("suggestion");
        }
    }();
    var h = function () {
        var q = {wrapper: '<span class="twitter-typeahead"></span>', hint: '<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled="disabled" />', dropdown: '<span class="tt-dropdown-menu"></span>'}, p = {wrapper: {position: "relative", display: "inline-block"}, hint: {position: "absolute", top: "0", left: "0", borderColor: "transparent", boxShadow: "none"}, query: {position: "relative", verticalAlign: "top", backgroundColor: "transparent"}, dropdown: {position: "absolute", top: "100%", left: "0", zIndex: "100", display: "none"}};
        if (j.isMsie()) {
            j.mixin(p.query, {backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});
        }
        if (j.isMsie() && j.isMsie() <= 7) {
            j.mixin(p.wrapper, {display: "inline", zoom: "1"});
            j.mixin(p.query, {marginTop: "-1px"});
        }
        function n(t) {
            var s, u, r;
            j.bindAll(this);
            this.$node = m(t.input);
            this.datasets = t.datasets;
            this.dir = null;
            this.eventBus = t.eventBus;
            s = this.$node.find(".tt-dropdown-menu");
            u = this.$node.find(".tt-query");
            r = this.$node.find(".tt-hint");
            r.addClass(u.attr("class").replace("tt-query", ""));
            this.dropdownView = new f({menu: s}).on("suggestionSelected", this._handleSelection).on("cursorMoved", this._clearHint).on("cursorMoved", this._setInputValueToSuggestionUnderCursor).on("cursorRemoved", this._setInputValueToQuery).on("cursorRemoved", this._updateHint).on("suggestionsRendered", this._updateHint).on("opened", this._updateHint).on("closed", this._clearHint).on("opened closed", this._propagateEvent);
            this.inputView = new b({input: u, hint: r}).on("focused", this._openDropdown).on("blured", this._closeDropdown).on("blured", this._setInputValueToQuery).on("enterKeyed", this._handleSelection).on("queryChanged", this._clearHint).on("queryChanged", this._clearSuggestions).on("queryChanged", this._getSuggestions).on("whitespaceChanged", this._updateHint).on("queryChanged whitespaceChanged", this._openDropdown).on("queryChanged whitespaceChanged", this._setLanguageDirection).on("escKeyed", this._closeDropdown).on("escKeyed", this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed", this._managePreventDefault).on("upKeyed downKeyed", this._moveDropdownCursor).on("upKeyed downKeyed", this._openDropdown).on("tabKeyed leftKeyed rightKeyed", this._autocomplete);
        }

        j.mixin(n.prototype, k, {_managePreventDefault: function (u) {
            var t = u.data, v, r, s = false;
            switch (u.type) {
                case"tabKeyed":
                    v = this.inputView.getHintValue();
                    r = this.inputView.getInputValue();
                    s = v && v !== r;
                    break;
                case"upKeyed":
                case"downKeyed":
                    s = !t.shiftKey && !t.ctrlKey && !t.metaKey;
                    break;
            }
            s && t.preventDefault();
        }, _setLanguageDirection: function () {
            var r = this.inputView.getLanguageDirection();
            if (r !== this.dir) {
                this.dir = r;
                this.$node.css("direction", r);
                this.dropdownView.setLanguageDirection(r);
            }
        }, _updateHint: function () {
            var u = this.dropdownView.getFirstSuggestion(), t = u ? u.value : null, x = this.dropdownView.isVisible(), w = this.inputView.isOverflow(), s, y, z, r, v;
            if (t && x && !w) {
                s = this.inputView.getInputValue();
                y = s.replace(/\s{2,}/g, " ").replace(/^\s+/g, "");
                z = j.escapeRegExChars(y);
                r = new RegExp("^(?:" + z + ")(.*$)", "i");
                v = r.exec(t);
                this.inputView.setHintValue(s + (v ? v[1] : ""));
            }
        }, _clearHint: function () {
            this.inputView.setHintValue("");
        }, _clearSuggestions: function () {
            this.dropdownView.clearSuggestions();
        }, _setInputValueToQuery: function () {
            this.inputView.setInputValue(this.inputView.getQuery());
        }, _setInputValueToSuggestionUnderCursor: function (s) {
            var r = s.data;
            this.inputView.setInputValue(r.value, true);
        }, _openDropdown: function () {
            this.dropdownView.open();
        }, _closeDropdown: function (r) {
            this.dropdownView[r.type === "blured" ? "closeUnlessMouseIsOverDropdown" : "close"]();
        }, _moveDropdownCursor: function (s) {
            var r = s.data;
            if (!r.shiftKey && !r.ctrlKey && !r.metaKey) {
                this.dropdownView[s.type === "upKeyed" ? "moveCursorUp" : "moveCursorDown"]();
            }
        }, _handleSelection: function (t) {
            var s = t.type === "suggestionSelected", r = s ? t.data : this.dropdownView.getSuggestionUnderCursor();
            if (r) {
                this.inputView.setInputValue(r.value);
                s ? this.inputView.focus() : t.data.preventDefault();
                s && j.isMsie() ? j.defer(this.dropdownView.close) : this.dropdownView.close();
                this.eventBus.trigger("selected", r.datum);
            }
        }, _getSuggestions: function () {
            var r = this, s = this.inputView.getQuery();
            if (j.isBlankString(s)) {
                return;
            }
            j.each(this.datasets, function (t, u) {
                u.getSuggestions(s, function (v) {
                    if (s === r.inputView.getQuery()) {
                        r.dropdownView.renderSuggestions(u, v);
                    }
                });
            });
        }, _autocomplete: function (v) {
            var s, r, u, w, t;
            if (v.type === "rightKeyed" || v.type === "leftKeyed") {
                s = this.inputView.isCursorAtEnd();
                r = this.inputView.getLanguageDirection() === "ltr" ? v.type === "leftKeyed" : v.type === "rightKeyed";
                if (!s || r) {
                    return;
                }
            }
            u = this.inputView.getQuery();
            w = this.inputView.getHintValue();
            if (w !== "" && u !== w) {
                t = this.dropdownView.getFirstSuggestion();
                this.inputView.setInputValue(t.value);
                this.eventBus.trigger("autocompleted", t.datum);
            }
        }, _propagateEvent: function (r) {
            this.eventBus.trigger(r.type);
        }, destroy: function () {
            this.inputView.destroy();
            this.dropdownView.destroy();
            o(this.$node);
            this.$node = null;
        }, setQuery: function (r) {
            this.inputView.setQuery(r);
            this.inputView.setInputValue(r);
            this._clearHint();
            this._clearSuggestions();
            this._getSuggestions();
        }});
        return n;
        function m(r) {
            var t = c(q.wrapper), v = c(q.dropdown), w = c(r), s = c(q.hint);
            t = t.css(p.wrapper);
            v = v.css(p.dropdown);
            s.css(p.hint).css({backgroundAttachment: w.css("background-attachment"), backgroundClip: w.css("background-clip"), backgroundColor: w.css("background-color"), backgroundImage: w.css("background-image"), backgroundOrigin: w.css("background-origin"), backgroundPosition: w.css("background-position"), backgroundRepeat: w.css("background-repeat"), backgroundSize: w.css("background-size")});
            w.data("ttAttrs", {dir: w.attr("dir"), autocomplete: w.attr("autocomplete"), spellcheck: w.attr("spellcheck"), style: w.attr("style")});
            w.addClass("tt-query").attr({autocomplete: "off", spellcheck: false}).css(p.query);
            try {
                !w.attr("dir") && w.attr("dir", "auto");
            } catch (u) {
            }
            return w.wrap(t).parent().prepend(s).append(v);
        }

        function o(r) {
            var s = r.find(".tt-query");
            j.each(s.data("ttAttrs"), function (t, u) {
                j.isUndefined(u) ? s.removeAttr(t) : s.attr(t, u);
            });
            s.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(r);
            r.remove();
        }
    }();
    (function () {
        var n = {}, o = "ttView", m;
        m = {initialize: function (r) {
            var q;
            r = j.isArray(r) ? r : [r];
            if (r.length === 0) {
                c.error("no datasets provided");
            }
            q = j.map(r, function (t) {
                var s = n[t.name] ? n[t.name] : new a(t);
                if (t.name) {
                    n[t.name] = s;
                }
                return s;
            });
            return this.each(p);
            function p() {
                var u = c(this), t, s = new e({el: u});
                t = j.map(q, function (v) {
                    return v.initialize();
                });
                u.data(o, new h({input: u, eventBus: s = new e({el: u}), datasets: q}));
                c.when.apply(c, t).always(function () {
                    j.defer(function () {
                        s.trigger("initialized");
                    });
                });
            }
        }, destroy: function () {
            return this.each(p);
            function p() {
                var r = c(this), q = r.data(o);
                if (q) {
                    q.destroy();
                    r.removeData(o);
                }
            }
        }, setQuery: function (p) {
            return this.each(q);
            function q() {
                var r = c(this).data(o);
                r && r.setQuery(p);
            }
        }};
        jQuery.fn.typeahead = function (p) {
            if (m[p]) {
                return m[p].apply(this, [].slice.call(arguments, 1));
            } else {
                return m.initialize.apply(this, arguments);
            }
        };
    })();
})(window.jQuery);